<?php echo Form::open( Route::url( 'user', array('action' => 'register') ), array('method' => 'post', 'class' => 'form-horizontal') ); ?>
	<?php echo Form::hidden( 'seturity_token', Security::token() ); ?>

	<h1><?php echo __('Register form'); ?></h1>
	
	<div class="control-group">
		<div class="controls">
			<label class="radio inline">
				<?php 
					echo Form::radio('type', Model_User_Profile::TYPE_PRIVATE, TRUE);
					echo HTML::label(__('Private person'), 'success');
				?>
			</label>
			<label class="radio inline">
				<?php 
					echo Form::radio('type', Model_User_Profile::TYPE_COMPANY);
					echo HTML::label(__('Company'));
				?>
			</label>
		</div>
	</div>
	
	<fieldset>
		<legend><?php echo __('Personal information'); ?></legend>
		
		<div class="control-group">
			<label class="control-label" for="name"><?php echo __('Name'); ?></label>
			<div class="controls">
				<?php 
					echo Form::input('name', NULL, array(
						'id' => 'name', 'class' => 'input-xlarge'
					));
				?>
			</div>
		</div>
		
		<div class="control-group">
			<label class="control-label" for="username"><?php echo __('Username'); ?></label>
			<div class="controls">
				<?php 
					echo Form::input('username', NULL, array(
						'id' => 'username', 'class' => 'input-large'
					));
				?>
			</div>
		</div>

		<div class="control-group">
			<label class="control-label" for="email"><?php echo __('E-mail'); ?></label>
			<div class="controls">
				<?php 
					echo Form::input('email', NULL, array(
						'id' => 'email', 'class' => 'input-large'
					));
				?>
			</div>
		</div>

		<div class="control-group">
			<label class="control-label" for="phone"><?php echo __('Phone'); ?></label>
			<div class="controls">
				<?php 
					echo Form::input('phone', NULL, array(
						'id' => 'phone', 'class' => 'input-large'
					));
				?>
				<?php echo HTML::label('optional', 'warning'); ?>
			</div>
		</div>
		
		<div class="control-group">
			<label class="control-label" for="language"><?php echo __('Language'); ?></label>
			<div class="controls">
				<?php
					$default_lang = I18n::lang();
					echo Form::select('default_locale', Model_Lang_Part::$languages, NULL, array(
						'id' => 'language'
					));
				?>
			</div>
		</div>
	</fieldset>
	
	<fieldset>
		<legend><?php echo __('Password'); ?></legend>
		
		<div class="control-group">
			<label class="control-label" for="password"><?php echo __('Password'); ?></label>
			<div class="controls">
				<?php 
					echo Form::password('password', NULL, array(
						'id' => 'password', 'class' => 'input-large'
					));
				?>
			</div>
		</div>
		
		<div class="control-group">
			<label class="control-label" for="password_confirm"><?php echo __('Confirm password'); ?></label>
			<div class="controls">
				<?php 
					echo Form::password('password_confirm', NULL, array(
						'id' => 'password_confirm', 'class' => 'input-large'
					));
				?>
			</div>
		</div>
	</fieldset>
	
	<fieldset>
		<legend><?php echo __('Region and city'); ?></legend>
		<br />
		<?php echo View::factory('map/form', array(
			'city_id' => NULL,
			'region_id' => NULL,
			'field' => NULL
		));?>
	</fieldset>
	
	<fieldset>
		<legend><?php echo __('Rules'); ?></legend>
		
		<div class="control-group">
			<div class="controls">
				<label class="checkbox">
					<?php 
						echo Form::checkbox('rule_agree');
						echo HTML::label(__('By registering on this site, I accept the terms of use'));
					?>
				</label>

				<label class="checkbox">
					<?php 
						echo Form::checkbox('subscribe');
						echo HTML::label(__('I agree to receive informational messages from the site'));
					?>
				</label>
			</div>
		</div>
	</fieldset>
	
	
	
	<div class="form-actions">
		<button type="submit" class="btn btn-large"><?php echo __('Register') . ' ' . HTML::icon('chevron-right'); ?></button>
	</div>

<?php echo Form::close(); ?>