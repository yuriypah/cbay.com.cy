/*!CK:622416690!*//*1454447934,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["58Y4V"]); }

__d('ReactComposerScrapedAttachmentPhotoDropWarningDialog.react',['LayerHideOnEscape','ReactComponentWithPureRenderMixin','React','ReactLayeredComponentMixin','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=j.PropTypes,t=j.createClass({displayName:'ReactComposerScrapedAttachmentPhotoDropWarningDialog',mixins:[i,k],propTypes:{shown:s.bool,onConfirm:s.func,onCancel:s.func},componentDidMount:function(){this.refs.dialog.layer.subscribe('hide',this._onHide);},renderLayers:function(){return {dialog:j.createElement(m,{ref:'dialog',shown:this.props.shown,width:500,layerHideOnBlur:false,behaviors:{LayerHideOnEscape:h}},j.createElement(p,null,j.createElement(q,null,r._("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0441\u044b\u043b\u043a\u0438"))),j.createElement(n,null,r._("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u043e\u0442\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0441\u044b\u043b\u043a\u0438 \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u043c. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?")),j.createElement(o,null,j.createElement(l,{use:'confirm',onClick:this.props.onConfirm,label:r._("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e")}),j.createElement(l,{onClick:this.props.onCancel,label:r._("\u041e\u0442\u043c\u0435\u043d\u0430")})))};},render:function(){return null;},_onHide:function(){this.props.onCancel&&this.props.onCancel();},_onCancel:function(){this.props.onCancel&&this.props.onCancel();}});f.exports=t;},null);
__d('ReactComposerDragDropPromptContainer.react',['ReactComposerAttachmentType','ReactComposerConfig','ReactComposerDragDropPromptLazy.react','ReactComposerPhotoUploader','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','ReactComposerScrapedAttachmentPhotoDropWarningDialog.react','ReactComposerStatusUtils','ReactComposerVideoUploadStore','ReactComponentWithPureRenderMixin','React','ReactLayeredComponentMixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=s.PropTypes,v=s.createClass({displayName:'ReactComposerDragDropPromptContainer',_uploader:undefined,mixins:[r,t,l(q)],propTypes:{root:u.object.isRequired,config:i.isRequired},statics:{calculateState:function(w,x,y){return {enabled:!q.getVideo(w)};}},getAttachmentInitialState:function(w,x){return {photoDropWarningShown:false,pendingFiles:null};},componentWillMount:function(){var w=this.props.config.attachmentsConfig[h.STATUS],x=this.props.config.attachmentsConfig[h.MEDIA];this._uploader=new k(this.context,x.photoLimit,{disableFaceRecognition:x.disableFaceboxTagger});m.enabled(this.context.composerID,w.canScrapeShare);},renderLayers:function(){return {photoDropWarningDialog:s.createElement(o,{shown:this.state.photoDropWarningShown,onCancel:this._onPhotoDropWarningCancel,onConfirm:this._onPhotoDropWarningConfirm})};},render:function(){if(!this.state.enabled)return null;return (s.createElement(j,{root:this.props.root,onFilesDrop:this._onFilesDrop,onURLDrop:this._onURLDrop}));},_onFilesDrop:function(w){if(n.hasAttachment(this.context.composerID)&&this.state.pendingFiles==null){this.setState({photoDropWarningShown:true,pendingFiles:w});return;}p.uploadDroppedFiles(this.context.composerID,w,this._uploader);},_onPhotoDropWarningCancel:function(){this.setState({photoDropWarningShown:false,pendingFiles:null});},_onPhotoDropWarningConfirm:function(){var w=this.state.pendingFiles;this.setState({photoDropWarningShown:false,pendingFiles:null});this._onFilesDrop(w);},_onURLDrop:function(w){p.scrapeLink(this.context.composerID,this.context.targetID,w,this.context.composerType,this.context.actorID);}});f.exports=v;},null);
__d('ReactComposerMediaAttachmentButtons.react',['ReactComposerContextMixin','ReactComposerMediaUtils','ReactComposerPhotoUploadActions','ComposerTargetData','DOMContainer.react','FileInput.react','Grid.react','Link.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=n.GridItem,u=q.PropTypes,v=q.createClass({displayName:'ReactComposerMediaAttachmentButtons',mixins:[p,h],propTypes:{createAlbumLink:u.any,mediaAcceptParam:u.shape({photos:u.string,both:u.string}).isRequired,onFilesSelected:u.func.isRequired,showUploadPhotosButton:u.bool,targetData:u.instanceOf(k).isRequired},getDefaultProps:function(){return {mediaAcceptParam:{}};},getInitialState:function(){return {createAlbumLink:null};},componentDidMount:function(){var w=q.createElement(l,{className:"_3mc1",display:'block'},this.props.createAlbumLink);this.setState({createAlbumLink:w});},render:function(){var w=[];w.push(this._getUploadPhotosButton());if(this.state.createAlbumLink)w.push(q.createElement(t,{className:"_4l9a",key:'createAlbum'},q.createElement(o,{className:"_2709"},this.state.createAlbumLink)));return (q.createElement('div',{className:"_4l99"},q.createElement(n,{className:"_2707",cols:w.length},w.filter(function(x){return x!=null;}))));},_getUploadPhotosButton:function(){if(!this.props.showUploadPhotosButton)return null;var w=this.props.targetData.targetSupportsMultiplePhotos,x=this.props.mediaAcceptParam.both,y=w?s._("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e\/\u0432\u0438\u0434\u0435\u043e"):s._("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e\/\u0432\u0438\u0434\u0435\u043e");return (q.createElement(t,{className:"_4l9a",key:'uploadPhoto'},q.createElement(m,{accept:x,multiple:w,name:'composer_photo',onChange:this._onFilesSelected,onClick:this._onUploadPhotosClick,ref:'fileInput','data-testid':'media-attachment-add-photo'},q.createElement(o,{className:"_2709"},q.createElement('div',{className:"_270a"},y)))));},_onUploadPhotosClick:function(){j.inputClicked(this.context.composerID);},_onFilesSelected:function(event){this.props.onFilesSelected(event,this.refs.fileInput.getFileInput());i.clearInput(this.refs.fileInput.getFileInput());}});f.exports=v;},null);
__d('ReactComposerBackdateTaggerButton.react',['ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.createClass({displayName:'ReactComposerBackdateTaggerButton',mixins:[h],statics:{taggerID:i.BACKDATE},getTitle:function(){return l._("\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043c\u044f \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438");},getTooltip:function(){return l._("\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043c\u044f \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438");},getClassName:function(){return "_3n04";}});f.exports=m;},null);
__d('ReactComposerBackdateTaggerComponent.react',['Grid.react','ProgressiveDateAndTimePicker.react','React','cx','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=h.GridItem,o=j.PropTypes,p=j.createClass({displayName:'ReactComposerBackdateTaggerComponent',propTypes:{taggerData:o.object.isRequired,onSelect:o.func.isRequired},getDefaultProps:function(){return {taggerData:{},onSelect:l};},_onChange:function(q){this.props.onSelect(q);},render:function(){return (j.createElement(h,{cols:2,className:"_5esl",role:'presentation'},j.createElement(n,{key:'prefix',className:"_5esm",role:'presentation'},m._("\u041a\u043e\u0433\u0434\u0430")),j.createElement(n,{key:'tagger',className:"_5esw",role:'presentation'},j.createElement(i,{className:"_5bm1",initialYear:this.props.taggerData.year,initialMonth:this.props.taggerData.month,initialDay:this.props.taggerData.day,initialHour:this.props.taggerData.hour,initialMinute:this.props.taggerData.minute,descendingYears:true,onDateAndTimeChange:this._onChange}))));}});f.exports=p;},null);
__d('ReactComposerBackdateTaggerContainer.react',['ReactComposerBackdateTaggerComponent.react','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=k.createClass({displayName:'ReactComposerBackdateTaggerContainer',mixins:[i],statics:{taggerID:j.BACKDATE,taggerComponent:h}});f.exports=l;},null);
__d('ReactComposerImplicitLocationComponent.react',['React','XUICloseButton.react','cx','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'ReactComposerImplicitLocationComponent',propTypes:{caption:l.string.isRequired,hasExplicitLocation:l.bool,onClear:l.func},defaultProps:{onClear:k},render:function(){if(!this.props.caption)return h.createElement('noscript',null);var n=this.props.hasExplicitLocation?null:h.createElement(i,{className:"_3s32",size:'small',onClick:this._onClear}),o="_3s33"+(this.props.hasExplicitLocation?' '+"_3s34":'');return (h.createElement('span',{className:o},h.createElement('span',null,this.props.caption.split(',')[0]),n));},_onClear:function(event){event.stopPropagation();this.props.onClear&&this.props.onClear();}});f.exports=m;},null);
__d('ReactComposerImplicitLocationContainer.react',['ReactComposerImplicitLocationComponent.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','AsyncRequest','URI','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=o.createClass({displayName:'ReactComposerImplicitLocationContainer',mixins:[i(k)],statics:{calculateState:function(q,r){var s=k.getTaggerData(q,l.LOCATION)||{},t=s.implicitLocation||{};return {caption:t.citystring,hasExplicitLocation:!!s.place};}},render:function(){if(!this.state.caption)return o.createElement('noscript',null);return (o.createElement(h,babelHelpers._extends({},this.state,{onClear:this._onClear})));},_onClear:function(){var q=k.getTaggerData(this.context.composerID,l.LOCATION)||{};q.implicitLocation=null;j.setTaggerData(this.context.composerID,l.LOCATION,q);var r=new n('/ajax/places/toggle_location_sharing').addQueryData({disable:1,session_id:q.sessionID});new m(r).send();}});f.exports=p;},null);
__d('ReactComposerPhotoTaggerButtonContainer.react',['ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerMediaFilePickerMixin','ReactComposerPhotoTaggerButton.react','ReactComposerPhotoUploadStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentStore','ComposerTargetData','ReactComposerVideoUploadStore','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=r.PropTypes,t=r.createClass({displayName:'ReactComposerPhotoTaggerButtonContainer',mixins:[n(h,m,o),k],propTypes:{bootloader:j,customPhotoTaggerButton:s.any,disableFaceRecognition:s.bool.isRequired,mediaAcceptParam:s.shape({photos:s.string,both:s.string}),photoLimit:s.number.isRequired,targetData:s.instanceOf(p).isRequired,mediaConfig:s.object.isRequired},getDefaultProps:function(){return {disableFaceRecognition:false};},statics:{calculateState:function(u,v){var w=h.getIsAttachmentSelected(u,i.MEDIA),x=m.getUploads(u),y=!q.getVideo(u)&&!o.hasAttachment(u)&&x.size<v.photoLimit;return {hasData:!!x.size&&w,shown:y,uploadSize:x.size};}},render:function(){if(!this.state.shown)return null;if(this.props.customPhotoTaggerButton){var u=this.props.customPhotoTaggerButton;return (r.createElement(u,babelHelpers._extends({},this.props,this.state,{onClick:this._onClick,onFilesSelected:this._onFilesSelected})));}else return (r.createElement(l,babelHelpers._extends({},this.props,this.state,{onClick:this._onClick,onFilesSelected:this._onFilesSelected})));},_onClick:function(){(function(){return this._onFileInputClick(this.props.bootloader&&this.props.bootloader.mediaAttachment);}).bind(this);}});f.exports=t;},null);
__d('ReactComposerStatusFooter.react',['ReactComposerActivityTaggerButton.react','ReactComposerActivityTaggerContainer.react','ReactComposerAttachmentType','ReactComposerAudienceSelectorContainer.react','ReactComposerBackdateTaggerButton.react','ReactComposerBackdateTaggerContainer.react','ReactComposerBootloaderPropTypes','ReactComposerConfig','ReactComposerContextMixin','ReactComposerFooter.react','ReactComposerFooterActions.react','ReactComposerImplicitLocationContainer.react','ReactComposerLocationTaggerButton.react','ReactComposerLocationTaggerContainer.react','ReactComposerPeopleTaggerButton.react','ReactComposerPeopleTaggerContainer.react','ReactComposerPostButtonContainer.react','ReactComposerPhotoTaggerButtonContainer.react','ReactComposerTaggerButtons.react','ReactComposerTaggers.react','ReactComposerTaggerType','ReactComposerTaggerViewStyles','ComposerEntryPointRef','ComposerTargetData','LeftRight.react','PlaceSearchConstants','React','ReactComponentWithPureRenderMixin','cx','BasicTypeaheadLoggerJSConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){if(c.__markCompiled)c.__markCompiled();var ka=c('BasicTypeaheadLoggerJSConstants').EventNames,la=ha.PropTypes,ma=ha.createClass({displayName:'ReactComposerStatusFooter',mixins:[ia,p],propTypes:{additionalTaggers:la.arrayOf(la.shape({button:la.element.isRequired,container:la.element.isRequired})),additionalFooterActions:la.arrayOf(la.element),audienceXHP:la.instanceOf(HTMLElement),attachmentsConfig:la.object.isRequired,bootloader:n,config:o.isRequired,hasImplicitLocation:la.bool,isCameraIconEnabled:la.bool,locationTaggerPlaceholder:la.string,mediaAcceptParam:la.shape({photos:la.string,both:la.string}),mediaLocation:la.shape({latitude:la.number.isRequired,longitude:la.number.isRequired}),peopleTaggerPlaceholder:la.string,placeID:la.string,postButtonModule:la.func,taggersConfig:la.object.isRequired,targetData:la.instanceOf(ea).isRequired},getDefaultProps:function(){return {isCameraIconEnabled:true};},render:function(){var na=this.props.hasImplicitLocation?"_icv":'',oa=this.props.config.showExpandedComposer?'white':'light-wash';return (ha.createElement('div',null,this._getTaggers(),ha.createElement(q,{background:oa,className:na},ha.createElement(fa,null,this._getButtons(),this._getFooterActions()))));},_getTaggers:function(){var na=this.props.taggersConfig,oa=na[ba.PEOPLE].enabled?ha.createElement(w,{placeholder:this.props.peopleTaggerPlaceholder,showEntriesOnFocus:false,actorID:this.context.actorID,taggerConfig:na[ba.PEOPLE]}):null,pa=na[ba.LOCATION].enabled?ha.createElement(u,{implicitLocationEnabled:na[ba.LOCATION].implicitLocationEnabled,mediaLocation:this.props.mediaLocation,placeholder:this.props.locationTaggerPlaceholder,taggerConfig:na[ba.LOCATION],taggerViewStyle:ca.SCROLLABLE,typeaheadLoggerEventName:ka.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:ga.SOURCE_W_COMPOSER}):null,qa=this.context.composerType===da.TIMELINE,ra=na[ba.OG].enabled?ha.createElement(i,{actionTypeIDsWithNoFreeForm:na[ba.OG].actionTypeIDsWithNoFreeForm,actorID:this.context.actorID,isPersonalTimeline:qa,objectTaggerViewStyle:ca.SCROLLABLE,placeID:this.props.placeID,actionTypeIDsToPrefetch:na[ba.OG].actionTypeIDsToPrefetch,rankVerbs:na[ba.OG].rankVerbs,typeaheadLoggerEventName:ka.OGCOMPOSER_TAGGER}):null,sa=na[ba.BACKDATE].enabled?ha.createElement(m,null):null,ta=this.props.additionalTaggers?this.props.additionalTaggers.map(function(ua){return ua.container;}):null;return (ha.createElement(aa,null,oa,pa,ra,sa,ta));},_getButtons:function(){var na=this.props.taggersConfig,oa=this.props.attachmentsConfig[j.STATUS],pa=this.props.attachmentsConfig[j.MEDIA],qa=na[ba.CAMERA].enabled&&this.props.isCameraIconEnabled?ha.createElement(y,{bootloader:this.props.bootloader,customPhotoTaggerButton:oa.customPhotoTaggerButton,disableFaceRecognition:pa.disableFaceboxTagger,photoLimit:pa.photoLimit,mediaAcceptParam:this.props.mediaAcceptParam,targetData:this.props.targetData,mediaConfig:pa}):null,ra=na[ba.PEOPLE].enabled?ha.createElement(v,null):null,sa=na[ba.OG].enabled?ha.createElement(h,null):null,ta=na[ba.LOCATION].enabled?ha.createElement(t,null,ha.createElement(s,null)):null,ua=na[ba.BACKDATE].enabled?ha.createElement(l,null):null,va=this.props.additionalTaggers?this.props.additionalTaggers.map(function(wa){return wa.button;}):null;return (ha.createElement(z,null,qa,ra,sa,ta,ua,va));},_getFooterActions:function(){var na=this.props.audienceXHP?ha.createElement(k,{audienceXHP:this.props.audienceXHP,viewerIsTarget:this.props.targetData.viewerIsTarget}):null,oa=this.props.postButtonModule||x,pa=ha.createElement(oa,{config:this.props.config});return (ha.createElement(r,null,this.props.additionalFooterActions,na,pa));}});f.exports=ma;},null);
__d('ReactComposerStatusFooterContainer.react',['ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusFooter.react','ReactComposerTaggerStore','ReactComposerTaggerType','React','ReactComponentWithPureRenderMixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=l.createClass({displayName:'ReactComposerStatusFooterContainer',mixins:[m,h(j)],statics:{calculateState:function(o,p){var q=j.getTaggerData(o,k.LOCATION),r=q&&q.implicitLocation&&!!q.implicitLocation.citystring,s=q&&q.place&&q.place.getUniqueID();return {hasImplicitLocation:r,mediaLocation:q?q.mediaLocation:null,placeID:s};}},render:function(){return (l.createElement(i,babelHelpers._extends({},this.props,{hasImplicitLocation:this.state.hasImplicitLocation,mediaLocation:this.state.mediaLocation,placeID:this.state.placeID})));}});f.exports=n;},null);
__d('ReactComposerVideoUploadPlaceholder.react',['ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore','Image.react','ReactComponentWithPureRenderMixin','React','XUICloseButton.react','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=l.PropTypes,q=l.createClass({displayName:'ReactComposerVideoUploadPlaceholder',mixins:[k,h(i)],propTypes:{onRemoveClick:p.func},statics:{calculateState:function(r,s){return {posting:i.isPosting(r)};}},render:function(){var r="_2oe _5ip5",s="_3ew _5iph",t=this.state.posting?null:l.createElement(m,{className:"_5ipi",onClick:this.props.onRemoveClick,shade:'light',size:'medium'});return (l.createElement('div',{className:r},t,l.createElement(j,{className:s,src:o('images/icons/timeline/placeholder/placeholder-movies.png')})));}});f.exports=q;},null);
__d('ReactComposerVideoUploadPlaceholderContainer.react',['ReactComposerContextMixin','ReactComposerVideoUploadActions','ReactComposerVideoUploadPlaceholder.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=l.createClass({displayName:'ReactComposerVideoUploadPlaceholderContainer',mixins:[k,h],render:function(){return (l.createElement(j,{onRemoveClick:this._onRemoveClick}));},_onRemoveClick:function(){i.remove(this.context.composerID);}});f.exports=m;},null);
__d('ReactComposerVideoUploadProgressBar.react',['DOMContainer.react','ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'ReactComposerVideoUploadProgressBar',mixins:[i],propTypes:{progressBar:l.instanceOf(HTMLElement).isRequired},render:function(){return (j.createElement('div',{className:"_4340"},j.createElement(h,null,this.props.progressBar)));}});f.exports=m;},null);
__d('ReactComposerMediaAttachment.react',['ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerDragDropPromptContainer.react','ReactComposerMediaAttachmentButtons.react','ReactComposerPhotoUploadsGridContainer.react','ReactComposerProfilePhotoBlock.react','ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react','ReactComposerStatusFooterContainer.react','ReactComposerTaggerSummaryContainer.react','ReactComposerVideoUploadPlaceholderContainer.react','ReactComposerVideoUploadProgressBar.react','ReactComposerStatusUtils','immutable','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x=v.PropTypes,y=v.createClass({displayName:'ReactComposerMediaAttachment',mixins:[j],propTypes:{additionalTaggers:x.arrayOf(x.shape({button:x.element.isRequired,container:x.element.isRequired})),additionalFooterActions:x.arrayOf(x.element),config:i.isRequired,createAlbumLink:x.any,onFilesSelected:x.func.isRequired,onMentionsInputChange:x.func,onMentionsInputFocus:x.func,onPasteFiles:x.func,onPasteRawText:x.func,shouldShowCanvasSelector:x.bool,shouldShowCarouselURLInputArea:x.bool,shouldShowPreview:x.bool,isSlideshowSelected:x.bool,postButtonModule:x.func,uploads:x.instanceOf(u.List).isRequired,video:x.object},render:function(){var z=this.props.config.attachmentsConfig[h.MEDIA],aa=this.props.uploads.size>0||!!this.props.video||z.canUploadPhoto&&!this.props.createAlbumLink||this.props.shouldShowCanvasSelector||this.props.shouldShowCarouselURLInputArea||this.props.shouldShowPreview||this.props.isSlideshowSelected&&this.props.uploads.size>0,ba=null;if(z.ComposerMediaAttachmentButtonsWithOptions){var ca=z.ComposerMediaAttachmentButtonsWithOptions;ba=v.createElement(ca,{carouselConfig:z.carouselConfig,createAlbumLink:this.props.createAlbumLink,mediaAcceptParam:this.props.config.mediaAcceptParam,onFilesSelected:this.props.onFilesSelected,showCanvasEntryPoint:z.showCanvasEntryPoint,showCarouselEntryPoint:z.showCarouselEntryPoint,showPhotoAlbumEntryPoint:z.showPhotoAlbumEntryPoint,showSlideshowEntryPoint:z.showSlideshowEntryPoint,showUploadPhotosButton:z.canUploadPhoto,slideshowConfig:z.slideshowConfig,targetData:this.props.config.targetData});}else ba=v.createElement(l,{showUploadPhotosButton:z.canUploadPhoto,createAlbumLink:this.props.createAlbumLink,mediaAcceptParam:this.props.config.mediaAcceptParam,onFilesSelected:this.props.onFilesSelected,targetData:this.props.config.targetData});return (aa?this._getMediaContent():v.createElement('div',null,v.createElement(k,{root:this,config:this.props.config}),ba));},componentDidMount:function(){t.handleMarkdownPreview(this.context.composerID,this.context.targetID,this.props.config.attachmentsConfig[h.STATUS]);},_getMediaContent:function(){var z=this.props.config.attachmentsConfig[h.MEDIA],aa=this.props.config.attachmentsConfig[h.STATUS],ba;if(this.props.shouldShowPreview){var ca=z.ComposerAttachmentPreviewContainer,da=v.createElement(ca,null);if(this.props.shouldShowCanvasSelector){var ea=z.canvasConfig.TypeaheadContainer;ba=v.createElement('div',null,da,v.createElement(ea,{config:z.canvasConfig}));}else ba=da;}else if(this.props.shouldShowCarouselURLInputArea){var fa=z.carouselConfig.PhotoCarouselUtils;ba=fa.getPhotoCarouselMediaContent(z.carouselConfig,this.props.config.nuxConfig);}else if(this.props.shouldShowCanvasSelector){var ga=z.canvasConfig,ea=ga.TypeaheadContainer;ba=v.createElement(ea,{config:ga});}else if(this.props.isSlideshowSelected){var ha=z.slideshowConfig.photoUploadsContainer;ba=v.createElement(ha,{config:this.props.config,onFilesSelected:this.props.onFilesSelected,uploads:this.props.uploads});}else if(this.props.video){ba=v.createElement('div',null,v.createElement(r,null),v.createElement(s,{progressBar:this.props.videoProgressBar}));}else ba=v.createElement(m,{enableFaceboxTagger:!z.disableFaceboxTagger,disablePhotoEditing:z.disablePhotoEditing,mediaConfig:z,nuxConfig:this.props.config.nuxConfig,onFilesSelected:this.props.onFilesSelected,canUploadMultiplePhotos:this.props.config.targetData.targetSupportsMultiplePhotos,uploads:this.props.uploads});var ia=v.createElement(o,{config:this.props.config,onFocus:this.props.onMentionsInputFocus,onChange:this.props.onMentionsInputChange,onPasteFiles:this.props.onPasteFiles,onPasteRawText:this.props.onPasteRawText,placeholder:this._getInputPlaceholder()}),ja;if(aa.showProfilePic){ja=v.createElement(n,{profilePicSrc:aa.profilePicSrc,profileURI:aa.profileURI},ia);}else ja=ia;var ka=aa.multilingualStatus,la=aa.multilingualStatus?v.createElement(ka,null):null,ma=aa.markdownPreviewAttachment,na=null;if(ma){var oa=ma.container;na=v.createElement(oa,{prettify:ma.prettify});}var pa=aa.shareInNewsFeedToggle,qa=aa.shareInNewsFeedToggle,ra=aa.shareInNewsFeedToggle?v.createElement(qa,null):null;return (v.createElement('div',null,v.createElement(k,{root:this,config:this.props.config}),ja,la,na,v.createElement(q,null),ba,ra,v.createElement(p,{additionalTaggers:this.props.additionalTaggers,additionalFooterActions:this.props.additionalFooterActions,attachmentsConfig:this.props.config.attachmentsConfig,audienceXHP:this.props.config.audienceXHP,config:this.props.config,isCameraIconEnabled:!this.props.shouldShowCarouselURLInputArea,locationTaggerPlaceholder:this._getLocationTaggerPlaceholder(),mediaAcceptParam:this.props.config.mediaAcceptParam,peopleTaggerPlaceholder:this._getPeopleTaggerPlaceholder(),postButtonModule:this.props.postButtonModule,taggersConfig:this.props.config.taggersConfig,targetData:this.props.config.targetData})));},_getLocationTaggerPlaceholder:function(){if(!!this.props.video)return w._("\u0413\u0434\u0435 \u044d\u0442\u043e \u0431\u044b\u043b\u043e \u0441\u043d\u044f\u0442\u043e?");if(this.props.uploads.size>1)return w._("\u0413\u0434\u0435 \u0431\u044b\u043b\u0438 \u0441\u0434\u0435\u043b\u0430\u043d\u044b \u044d\u0442\u0438 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438?");if(this.props.uploads.size===1)return w._("\u0413\u0434\u0435 \u0431\u044b\u043b\u043e \u0441\u0434\u0435\u043b\u0430\u043d\u043e \u044d\u0442\u043e \u0444\u043e\u0442\u043e?");return null;},_getPeopleTaggerPlaceholder:function(){if(!!this.props.video||this.props.uploads.size>0)return w._("\u041a\u0442\u043e \u0431\u044b\u043b \u0441 \u0432\u0430\u043c\u0438?");return null;},_getInputPlaceholder:function(){var z=this.props.config.attachmentsConfig[h.MEDIA];if(!!this.props.video){return w._("\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043e\u0431 \u044d\u0442\u043e\u043c \u0432\u0438\u0434\u0435\u043e...");}else if(this.props.isSlideshowSelected){return w._("\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u0447\u0442\u043e-\u0442\u043e \u043f\u0440\u043e \u044d\u0442\u043e \u0441\u043b\u0430\u0439\u0434-\u0448\u043e\u0443...");}else if(this.props.uploads.size>1){return w._("\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043e\u0431 \u044d\u0442\u0438\u0445 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f\u0445");}else if(this.props.shouldShowCarouselURLInputArea||this.props.shouldShowPreview){var aa=z.carouselConfig.PhotoCarouselUtils;return aa.getInputPlaceHolder(z.carouselConfig,this.props.shouldShowPreview);}else return w._("\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043e\u0431 \u044d\u0442\u043e\u043c \u0444\u043e\u0442\u043e...");}});f.exports=y;},null);
__d('ReactComposerVideoUploader',['ReactComposerActions','ComposerEntryPointRef','ReactComposerPostUtilsCore','ReactComposerVideoUploadActions','ReactComposerVideoUploadStore','Arbiter','DOM','DOMClone','ErrorDialog','QE','React','ReactDOM','Run','SubscriptionsHandler','UserAgent','VideoUploadProcessingDialog.react','VideoUploadFile','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=b.URL||b.webkitURL||{};function aa(ba){this.$ReactComposerVideoUploader1=ba;this.$ReactComposerVideoUploader2=new u();!this.$ReactComposerVideoUploader1.composerID?y(0):undefined;!this.$ReactComposerVideoUploader1.container?y(0):undefined;!this.$ReactComposerVideoUploader1.progressBarInstance?y(0):undefined;!this.$ReactComposerVideoUploader1.uploader?y(0):undefined;this.$ReactComposerVideoUploader3=ba.uploader;this.$ReactComposerVideoUploader4=ba.composerID;this.$ReactComposerVideoUploader2.addSubscriptions(this.$ReactComposerVideoUploader3.subscribe('post-failed',this.$ReactComposerVideoUploader5.bind(this)),this.$ReactComposerVideoUploader3.subscribe('post-finished',this.$ReactComposerVideoUploader6.bind(this)),this.$ReactComposerVideoUploader3.subscribe('upload-failed',this.$ReactComposerVideoUploader7.bind(this)),this.$ReactComposerVideoUploader3.subscribe('upload-finished',this.$ReactComposerVideoUploader8.bind(this)));t.onLeave((function(){return this.$ReactComposerVideoUploader3.abandon();}).bind(this));t.onUnload((function(){return this.$ReactComposerVideoUploader3.abandon();}).bind(this));}aa.prototype.upload=function(ba,ca){this.$ReactComposerVideoUploader9=ca;var da=x.fromFileInput(ba);this.$ReactComposerVideoUploader3.upload(da);};aa.prototype.uploadFromFile=function(ba,ca){var da=ba.getFile();if(da&&z.createObjectURL)ca.fileURL=z.createObjectURL(da);this.$ReactComposerVideoUploader9=ca;this.$ReactComposerVideoUploader3.upload(ba);};aa.prototype.destroy=function(){this.$ReactComposerVideoUploader2.release();};aa.prototype.$ReactComposerVideoUploader10=function(ba){if(ba)p.show(ba.error_summary,ba.error_description);this.$ReactComposerVideoUploader1.progressBarInstance.reset();this.$ReactComposerVideoUploader3.abandon();h.postError(this.$ReactComposerVideoUploader4,null);};aa.prototype.$ReactComposerVideoUploader5=function(ba,ca){this.$ReactComposerVideoUploader10(ca);};aa.prototype.$ReactComposerVideoUploader6=function(ba,ca){j.handlePostSucceeded(this.$ReactComposerVideoUploader4);if(this.$ReactComposerVideoUploader1.composerEntryPointRef===i.TIMELINE)q.logExposure('www_optimistic_video_post');if(this.$ReactComposerVideoUploader1.shouldShowOptimisticVideoPost&&this.$ReactComposerVideoUploader1.composerEntryPointRef===i.TIMELINE){m.inform('videoUpload/complete',{videoID:ca.video_id,isToUserProfile:true,videoFileURL:ca.fileURL});}else s.render(r.createElement(w,{videoID:ca.video_id,show:true}),this.$ReactComposerVideoUploader1.container);this.$ReactComposerVideoUploader1.onPostSuccess&&this.$ReactComposerVideoUploader1.onPostSuccess();};aa.prototype.$ReactComposerVideoUploader7=function(ba,ca){this.$ReactComposerVideoUploader10(ca);var da=l.getVideo(this.$ReactComposerVideoUploader4);if(v.isBrowser('IE')){var ea=o.deepClone(da.input);n.replace(da.input,ea);}else da.input.value='';k.remove(this.$ReactComposerVideoUploader4);};aa.prototype.$ReactComposerVideoUploader8=function(){this.$ReactComposerVideoUploader3.post(this.$ReactComposerVideoUploader9);this.$ReactComposerVideoUploader1.onUploadSuccess&&this.$ReactComposerVideoUploader1.onUploadSuccess();};f.exports=aa;},null);
__d('ReactComposerMediaAttachmentContainer.react',['ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerCanvasStore','ReactComposerConfig','ReactComposerMediaAttachment.react','ReactComposerMediaStore','ReactComposerMediaUtils','ReactComposerPhotoCarouselStore','ReactComposerPhotoUploadActions','ReactComposerPhotoUploadStore','ReactComposerPhotoUploader','ReactComposerPrefillStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentStore','ReactComposerSlideshowActions','ReactComposerSlideshowStore','ReactComposerStatusUtils','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerVideoUploadActions','ReactComposerVideoUploader','ReactComposerVideoUploadStore','Arbiter','React','ReactDOM','PUWMethods','URLScraper','curry','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka){if(c.__markCompiled)c.__markCompiled();var la=fa.PropTypes,ma=fa.createClass({displayName:'ComposerMediaAttachmentContainer',_uploader:undefined,_videoUploader:undefined,_photoEditorSubscription:undefined,mixins:[t(j,m,o,q,u,w,z,da)],propTypes:{additionalTaggers:la.arrayOf(la.shape({button:la.element.isRequired,container:la.element.isRequired})),config:k.isRequired},statics:{beforeCalculateInitialState:function(na,oa){var pa=s.getAndEraseField(na,'photosData');pa&&p.prefillPhotos(na,pa);},calculateState:function(na,oa){return {createAlbumLink:m.getCreateAlbumLink(na),shouldShowCanvasSelector:j.shouldShowCanvasSelector(na),shouldShowCarouselURLInputArea:o.shouldShowURLEditArea(na),shouldShowPreview:u.getMarkup(na)!==null,isSlideshowSelected:w.isSlideshowSelected(na),selectedTagger:z.getSelectedTagger(na),uploads:q.getUploads(na),video:da.getVideo(na),videoProgressBar:m.getVideoProgressBar(na),videoProgressBarInstance:m.getVideoProgressBarInstance(na),videoUploader:m.getVideoUploader(na)};}},componentWillMount:function(){var na=this.props.config.attachmentsConfig[i.MEDIA];this._uploader=new r(this.context,na.photoLimit,{disableFaceRecognition:na.disableFaceboxTagger});this._photoEditorSubscription=ea.subscribe(['AttachmentsPhotoEditor/newImage'+this.context.composerID,'AttachmentsPhotoEditor/tagsUpdated'+this.context.composerID],ja(n.onImageEdited,this.context.composerID,this._uploader));},componentDidMount:function(){var na=this.props.config.attachmentsConfig[i.MEDIA];this._videoUploader=new ca({composerID:this.context.composerID,container:ga.findDOMNode(this.refs.videoContainer),progressBarInstance:this.state.videoProgressBarInstance,uploader:this.state.videoUploader,shouldShowOptimisticVideoPost:na.shouldShowOptimisticVideoPost,composerEntryPointRef:this.context.composerType});ba.setUploader(this.context.composerID,this._videoUploader);},componentWillUnmount:function(){this._videoUploader&&this._videoUploader.destroy();this._photoEditorSubscription&&this._photoEditorSubscription.unsubscribe();this._photoEditorSubscription=null;},componentWillUpdate:function(na,oa){oa=oa||{};if((this.state.uploads.size>0||!!this.state.video)&&oa.uploads.size===0&&!oa.video){h.selectAttachment(this.context.composerID,i.STATUS,true);v.hideSlideshowEditField(this.context.composerID);}},render:function(){return (fa.createElement('div',null,fa.createElement(l,babelHelpers._extends({},this.props,{createAlbumLink:this.state.createAlbumLink,isSlideshowSelected:this.state.isSlideshowSelected,shouldShowCanvasSelector:this.state.shouldShowCanvasSelector,shouldShowCarouselURLInputArea:this.state.shouldShowCarouselURLInputArea,shouldShowPreview:this.state.shouldShowPreview,onFilesSelected:this._onFilesSelected,onMentionsInputChange:this._onMentionsInputChange,onMentionsInputFocus:this._onMentionsInputFocus,onPasteFiles:this._onPasteFiles,onPasteRawText:this._onPasteRawText,postButtonModule:this.props.postButtonModule,uploads:this.state.uploads,video:this.state.video,videoProgressBar:this.state.videoProgressBar})),fa.createElement('div',{ref:'videoContainer'})));},_onFilesSelected:function(event,na){var oa=n.handleSpecialMediaUpload(event,na,this.props.config.attachmentsConfig[i.MEDIA],this.context);if(oa)return;!this._uploader?ka(0):undefined;n.uploadPhotosOrVideoFromTarget(this.context.composerID,event.target,this._uploader,this.props.config.targetData.targetSupportsMultiplePhotos);},_onMentionsInputFocus:function(){if(this.state.selectedTagger!==null&&this.state.selectedTagger!==aa.PEOPLE)y.selectTaggerWithoutAutofocus(this.context.composerID,aa.PEOPLE);},_onPasteFiles:function(na){x.uploadPastedFile(this.context.composerID,na[0],this._uploader);p.photosSelect(this.context.composerID,1,ha.COPYPASTE);},_onPasteRawText:function(na){var oa=this.props.config.attachmentsConfig[i.MEDIA],pa=o.shouldShowURLEditArea(this.context.composerID);if(!oa.carouselConfig||!pa)return;if(oa.carouselConfig.ComposerPhotoCarouselPlaceHolder)x.scrapeLink(this.context.composerID,this.context.targetID,na,this.context.composerType,this.context.actorID);},_onMentionsInputChange:function(na){var oa=this.props.config.attachmentsConfig[i.MEDIA],pa=o.shouldShowURLEditArea(this.context.composerID);if(!oa.carouselConfig||!pa)return;if(oa.carouselConfig.ComposerPhotoCarouselPlaceHolder){var qa=na.getCurrentContent().getPlainText();if(!ia.trigger(qa))x.scrapeLink(this.context.composerID,this.context.targetID,qa,this.context.composerType,this.context.actorID);}}});f.exports=ma;},null);
__d('ReactComposerVideoCopyrightDialog.react',['LayerHideOnEscape','ReactComponentWithPureRenderMixin','React','ReactLayeredComponentMixin','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=j.PropTypes,r=j.createClass({displayName:'ReactComposerVideoCopyrightDialog',mixins:[i,k],propTypes:{shown:q.bool,onConfirm:q.func,onCancel:q.func},componentDidMount:function(){this.refs.dialog.layer.subscribe('hide',this._onHide);},renderLayers:function(){return {dialog:j.createElement(m,{ref:'dialog',shown:this.props.shown,width:500,layerHideOnBlur:false,behaviors:{LayerHideOnEscape:h}},j.createElement(n,null,p._("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435, \u0447\u0442\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u044b\u0435 \u0432\u0430\u043c\u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u044e\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0438\u043d\u0442\u0435\u043b\u043b\u0435\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0442\u0440\u0435\u0442\u044c\u0438\u0445 \u043b\u0438\u0446 \u0438 \u0447\u0442\u043e \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u044d\u0442\u0438\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432 (\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u0438 \u0438 \u0430\u0443\u0434\u0438\u043e\u0437\u0430\u043f\u0438\u0441\u0438) \u043d\u0430 Facebook.")),j.createElement(o,null,j.createElement(l,{use:'confirm',onClick:this.props.onConfirm,label:p._("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")}),j.createElement(l,{onClick:this.props.onCancel,label:p._("\u041e\u0442\u043c\u0435\u043d\u0430")})))};},render:function(){return null;},_onHide:function(){this.props.onCancel&&this.props.onCancel();},_onCancel:function(){this.props.onCancel&&this.props.onCancel();}});f.exports=r;},null);
__d('ReactComposerMediaAttachmentPostButton.react',['ReactComposerConfig','ReactComposerPostButtonContainer.react','ReactComposerVideoCopyrightDialog.react','ReactComponentWithPureRenderMixin','React','ReactLayeredComponentMixin','XUIContextualDialog.react','XUIContextualDialogBody.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.PropTypes,r=l.createClass({displayName:'ReactComposerMediaAttachmentPostButton',mixins:[k,m],propTypes:{config:h.isRequired,disabled:q.bool,limitExceeded:q.bool,onClick:q.func,photoLimit:q.number.isRequired,showCopyrightDialogOnPost:q.bool},getDefaultProps:function(){return {disabled:false,limitExceeded:false,showCopyrightDialogOnPost:false};},getInitialState:function(){return {copyrightDialogShown:false};},renderLayers:function(){return {limitDialog:l.createElement(n,{alignment:'right',contextRef:(function(){return this.refs.post;}).bind(this),position:'below',shown:this.props.limitExceeded,width:300},l.createElement(o,null,p._("\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u043e {number} \u0444\u043e\u0442\u043e \u0437\u0430 \u0440\u0430\u0437",[p.param('number',this.props.photoLimit)]))),copyrightDialog:l.createElement(j,{shown:this.state.copyrightDialogShown,onCancel:this._onCopyrightDialogCancel,onConfirm:this._onCopyrightDialogConfirm})};},render:function(){return (l.createElement(i,{config:this.props.config,forceDisabled:this.props.disabled,onClickPreprocess:this._onClickPreprocess,ref:'post'}));},_onClickPreprocess:function(){if(this.props.showCopyrightDialogOnPost){this.setState({copyrightDialogShown:true});return false;}if(this.props.onClick){this.props.onClick();return false;}return true;},_onCopyrightDialogCancel:function(){this.setState({copyrightDialogShown:false});},_onCopyrightDialogConfirm:function(){this.setState({copyrightDialogShown:false});this.props.onClick&&this.props.onClick();}});f.exports=r;},null);
__d('ReactComposerMediaEagerAttachment.react',['ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerAttachmentBodyMixin','ReactComposerConfig','ReactComposerMediaActions','ReactComposerMediaAttachmentContainer.react','ReactComposerStatusActions','ReactComposerTaggerActions','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=p.PropTypes,r=p.createClass({displayName:'ReactComposerMediaEagerAttachment',mixins:[j()],propTypes:{config:k.isRequired,postButtonModule:q.func.isRequired},statics:{attachmentID:i.MEDIA},componentWillMount:function(){var s=this.props.config.attachmentsConfig[i.MEDIA].bootstrapData;o.updateTaggersSource(this.context.composerID,s.taggersSource);n.setMentionsSource(this.context.composerID,s.mentionsSource);l.setConfig(this.context.composerID,s);h.setInitialized(this.context.composerID,i.MEDIA);},renderX:function(){return p.createElement(m,this.props);}});f.exports=r;},null);
__d('ReactComposerMediaPostButtonContainerMixin',['ReactComposerActions','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerConstants','ReactComposerContextMixin','ReactComposerMediaAttachmentPostButton.react','ReactComposerPhotoStore','ReactComposerPhotoUploadStore','ReactComposerPostUtils','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore','ReactComposerVideoUploadStore','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=u.PropTypes,w={mixins:[l,q(n,o,r,s),t],propTypes:{config:j.isRequired,onClickPreprocess:v.func},statics:{calculateState:function(x,y,z){var aa=y.config.attachmentsConfig[i.MEDIA],ba=z.gks[k.GK_VIDEO_COPYRIGHT]&&!!s.getVideo(x);return {limitExceeded:n.isLimitExceeded(x,aa.photoLimit),disabled:p.isPostButtonDisabled(x,aa.photoLimit),showCopyrightDialogOnPost:ba};}},render:function(){var x=this.props.config.attachmentsConfig[i.MEDIA].photoLimit;return (u.createElement(m,{disabled:this.state.disabled,limitExceeded:this.state.limitExceeded,onClick:this._onClick,photoLimit:x,showCopyrightDialogOnPost:this.state.showCopyrightDialogOnPost,config:this.props.config}));},_onClick:function(){if(this.props.onClickPreprocess)if(!this.props.onClickPreprocess())return;h.postStarted(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});}};f.exports=w;},null);
__d('ReactComposerStatusAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerConfig','ReactComposerContextMixin','ReactComposerDragDropPromptContainer.react','ReactComposerPrefillConfig','ReactComposerProfilePhotoBlock.react','ReactComposerAttachmentPreviewContainer.react','ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react','ReactComposerStatusFooterContainer.react','ReactComposerStatusPlaceholderFooter.react','ReactComposerStatusPrompt.react','ReactComposerTaggerSummaryContainer.react','ReactComposerTaggerSummaryPlaceholder.react','React','ReactComposerStatusActions','DraftModifier','EditorState','ReactInputSelection','SelectionState'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();c('ReactComposerStatusActions');c('DraftModifier');c('EditorState');c('ReactInputSelection');c('SelectionState');var w=v.PropTypes,x=v.createClass({displayName:'ReactComposerStatusAttachment',mixins:[k],propTypes:{additionalTaggers:w.arrayOf(w.shape({button:w.element.isRequired,container:w.element.isRequired})),additionalFooterActions:w.arrayOf(w.element),bootloader:i,config:j.isRequired,isActive:w.bool,onFocus:w.func,onMentionsInputChange:w.func,onPasteFiles:w.func,onPasteRawText:w.func.isRequired,onPostIntent:w.func,placeholder:w.string.isRequired,postButtonModule:w.func,prefillConfig:m},componentWillMount:function(){if(this.props.isActive)setTimeout((function(){return this.refs.mentionsInput.focus();}).bind(this),0);},render:function(){var y;if(this.props.isActive){y=v.createElement(q,{additionalTaggers:this.props.additionalTaggers,additionalFooterActions:this.props.additionalFooterActions,attachmentsConfig:this.props.config.attachmentsConfig,audienceXHP:this.props.config.audienceXHP,bootloader:this.props.bootloader,config:this.props.config,mediaAcceptParam:this.props.config.mediaAcceptParam,postButtonModule:this.props.postButtonModule,prefillConfig:this.props.prefillConfig,taggersConfig:this.props.config.taggersConfig,targetData:this.props.config.targetData});}else if(!this.props.isActive&&this.props.config.showExpandedComposer)y=v.createElement(r,{config:this.props.config});var z=this.props.isActive?v.createElement(t,null):v.createElement(u,null),aa=this.props.config.attachmentsConfig[h.STATUS],ba=aa.multilingualStatus,ca=aa.multilingualStatus&&this.props.isActive?v.createElement(ba,null):null,da=aa.markdownPreviewAttachment,ea=null;if(da&&this.props.isActive){var fa=da.container;ea=v.createElement(fa,{prettify:da.prettify});}var ga=v.createElement(p,{config:this.props.config,onChange:this.props.onMentionsInputChange,onFocus:this.props.onFocus,onPasteFiles:this.props.onPasteFiles,onPasteRawText:this.props.onPasteRawText,onPostIntent:this.props.onPostIntent,placeholder:this.props.placeholder,prefillConfig:this.props.prefillConfig,ref:'mentionsInput'}),ha;if(aa.showProfilePic){ha=v.createElement(n,{profilePicSrc:aa.profilePicSrc,profileURI:aa.profileURI},ga);}else ha=ga;var ia,ja=this.props.config.attachmentsConfig[h.NOTES];if(ja&&ja.upsell){var ka=ja.upsell,la=ja.minLengthForUpsell;ia=v.createElement(ka,{minLength:la,key:'notes-upsell'});}var ma=aa.shareInNewsFeedToggle,na=aa.shareInNewsFeedToggle?v.createElement(ma,null):null;return (v.createElement('div',{className:this.props.className},v.createElement(l,{root:this,config:this.props.config}),ha,v.createElement(o,null),na,z,v.createElement(s,{hidePrompt:this.props.isActive}),ca,ea,ia,y));}});f.exports=x;},null);
__d('ReactComposerStatusAttachmentContainer.react',['ReactComposerAttachmentActions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerLocationAttachmentActions','ReactComposerPhotoUploader','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentActions','ReactComposerStatusAttachment.react','ReactComposerStatusStore','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerStatusUtils','React','URLScraper'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=v.PropTypes,y=v.createClass({displayName:'ReactComposerStatusAttachmentContainer',_uploader:undefined,mixins:[l,o(i,r,t)],propTypes:{scrapeLinkOnInit:x.bool},getDefaultProps:function(){return {scrapeLinkOnInit:true};},statics:{calculateState:function(z,aa){var ba=i.isSelectedAttachmentActive(z);return {isActive:ba};}},componentWillMount:function(){var z=this.props.config.attachmentsConfig[j.MEDIA];this._uploader=new n(this.context,z.photoLimit,{disableFaceRecognition:z.disableFaceboxTagger});},componentDidMount:function(){var z=this.props.config.attachmentsConfig[j.STATUS];p.enabled(this.context.composerID,z.canScrapeShare);m.enabled(this.context.composerID,z.canAttachLocation);if(this.props.scrapeLinkOnInit){var aa=r.getMessageText(this.context.composerID);if(aa)u.scrapeLink(this.context.composerID,this.context.targetID,aa,this.context.composerType,this.context.actorID);}},render:function(){return (v.createElement(q,babelHelpers._extends({},this.props,this.state,{config:this.props.config,onFocus:this._onFocus,onMentionsInputChange:this._onMentionsInputChange,onPasteFiles:this._onPasteFiles,onPasteRawText:this._onPasteRawText,placeholder:this.props.placeholder,postButtonModule:this.props.postButtonModule})));},_onFocus:function(){h.selectAttachment(this.context.composerID,j.STATUS,true);s.selectTagger(this.context.composerID,null);},_onMentionsInputChange:function(z){var aa=z.getCurrentContent().getPlainText();if(!w.trigger(aa))u.scrapeLink(this.context.composerID,this.context.targetID,aa,this.context.composerType,this.context.actorID);},_onPasteFiles:function(z){h.selectAttachment(this.context.composerID,j.MEDIA,true);u.uploadPastedFile(this.context.composerID,z[0],this._uploader);},_onPasteRawText:function(z){u.scrapeLink(this.context.composerID,this.context.targetID,z,this.context.composerType,this.context.actorID);}});f.exports=y;},null);
__d('ReactComposerStatusEagerAttachment.react',['ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerAttachmentBodyMixin','ReactComposerConfig','ReactComposerPrefillConfig','ReactComposerStatusActions','ReactComposerStatusAttachmentContainer.react','ReactComposerTaggerActions','Arbiter','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=q.PropTypes,t=q.createClass({displayName:'ReactComposerStatusEagerAttachment',mixins:[j()],propTypes:{config:k.isRequired,postButtonModule:s.func.isRequired,selected:s.bool,prefillConfig:l},getDefaultProps:function(){return {placeholder:r._(["\u041e \u0447\u0435\u043c \u0432\u044b \u0434\u0443\u043c\u0430\u0435\u0442\u0435?","2340e43c54f5a3de9ca7fc0a7efc2cae"])};},statics:{attachmentID:i.STATUS},componentWillMount:function(){var u=this.props.config.attachmentsConfig[i.STATUS].bootstrapData;o.updateTaggersSource(this.context.composerID,u.taggersSource);m.setMentionsSource(this.context.composerID,u.mentionsSource);m.setTypeaheadReporter(this.context.composerID,u.typeaheadReporter);h.setInitialized(this.context.composerID,i.STATUS);},componentDidMount:function(){p.inform('ReactComposerStatusEagerAttachment/mounted',this.context.composerID,p.BEHAVIOR_STATE);},renderX:function(){return q.createElement(n,this.props);}});f.exports=t;},null);
__d('ReactComposerFeedMediaPostButtonContainer.react',['ReactComposerContextMixin','ReactComposerFeedStore','ReactComposerMediaPostButtonContainerMixin','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=k.createClass({displayName:'ReactComposerFeedMediaPostButtonContainer',mixins:[h,j],componentDidMount:function(){i.registerComposerID(this.context.composerID);}});f.exports=l;},null);
__d('ReactComposerFeedPostButtonContainer.react',['ReactComposerContextMixin','ReactComposerFeedStore','ReactComposerPostButtonContainerMixin','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=k.createClass({displayName:'ReactComposerFeedPostButtonContainer',mixins:[h,j],componentDidMount:function(){i.registerComposerID(this.context.composerID);}});f.exports=l;},null);
__d('ReactComposerHeader.react',['ReactComposerHeaderCore.react','ReactComposerHeaderProps','ReactComposerMinutiaeAttachmentStore','ReactComposerLocationAttachmentStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentStore','ReactComposerStore','CurrentUser','Image.react','ReactComponentWithPureRenderMixin','React','TooltipLink.react','cx','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w=r.createClass({displayName:'ReactComposerHeader',mixins:[q,l(n,m,j,k)],propTypes:i.propTypes,getDefaultProps:i.getDefaultProps,statics:{calculateState:function(x,y){var z=m.isScraping(x)||j.isFetching(x)||k.isFetching(x);return {posting:n.isPosting(x),isFetching:z};}},render:function(){var x=this.props.forceThrobber||this.state.posting||this.state.isFetching,y=o.isEmployee()?r.createElement(s,{className:"_48-0 uiHelpLink",href:'/groups/555631037818849/',tooltip:'Provide feedback on the React Composer (fb-only).',target:'_blank'}):null;return (r.createElement(h,babelHelpers._extends({className:v(this.props.className,r.Children.count(this.props.attachmentSelectors)>3?"_1fu5":'')},this.props),r.createElement(p,{className:"_4d6i"+(x?' '+"_du_":''),src:u('/images/loaders/indicator_blue_small.gif')}),this.props.rightChild,y));}});f.exports=w;},null);
__d('ReactFeedComposerX.react',['ReactComposer.react','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerBodyContainer.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerEvents','ReactComposerFeedBootloader','ReactComposerFeedMediaPostButtonContainer.react','ReactComposerFeedPostButtonContainer.react','ReactComposerHeader.react','ReactComposerInstantMediaAttachmentSelectorContainer.react','ReactComposerMediaAttachmentSelector.react','ReactComposerMediaEagerAttachment.react','ReactComposerNotesAttachmentSelector.react','ReactComposerPrefillActions','ReactComposerPrefillConfig','ReactComposerQAndAAttachmentSelector.react','ReactComposerQAndALazyAttachment.react','ReactComposerStatusAttachmentSelector.react','ReactComposerStatusEagerAttachment.react','Arbiter','DOMContainer.react','LitestandComposer','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia){if(c.__markCompiled)c.__markCompiled();var ja=ga.createClass({displayName:'ReactFeedComposerX',mixins:[n],propTypes:{contextConfig:m.isRequired,config:l.isRequired,prefillConfig:y},componentWillMount:function(){this.props.prefillConfig&&x.setPrefillData(this.props.contextConfig.composerID,this.props.prefillConfig);},componentDidMount:function(){fa.initComposer(this.props.contextConfig.composerID);var ka=this.props.prefillConfig;if(ka&&ka.selectedAttachment){i.selectAttachment(this.props.contextConfig.composerID,ka.selectedAttachment,ka.shouldActivateSelectedAttachment);if(ka.shouldActivateSelectedAttachment)da.inform(o.ACTIVATE_ATTACHMENT+this.props.contextConfig.composerID);}},render:function(){var ka=this.props.prefillConfig,la=ka&&ka.selectedAttachment?ka.selectedAttachment:j.STATUS,ma=this._getAdditionalAttachmentComponents(la),na=ma[0],oa=ma[1];return (ga.createElement(h,{className:"_5n2b",loggingConfig:this.props.config.loggingConfig},ga.createElement(s,{attachmentSelectors:[ga.createElement(ba,{label:ia._(["\u0421\u0442\u0430\u0442\u0443\u0441","155d6cd2b97f05fd0d45ff038fb8f47d"])}),na],showDelimiter:true,truncateSelectorText:true}),ga.createElement(k,{expanded:this.props.config.showExpandedComposer},ga.createElement(ca,{config:this.props.config,prefillConfig:ka,selected:la===j.STATUS,postButtonModule:r}),oa)));},_getAdditionalAttachmentComponents:function(ka){var la=this.props.config.attachmentsConfig,ma=[],na=[],oa=la[j.ALBUM].enabled,pa=la[j.NOTES].enabled,qa=la[j.QANDA].enabled;ma.push(this._getMediaAttachmentSelector());na.push(ga.createElement(v,{key:'media',config:this.props.config,postButtonModule:q,selected:ka===j.MEDIA}));if(oa)ma.push(ga.createElement(ea,{key:'album',display:'block'},la[j.ALBUM].createAlbumLink));if(pa)ma.push(ga.createElement(w,{key:'notes'}));if(qa){ma.push(ga.createElement(z,{key:'qanda'}));na.push(ga.createElement(aa,{key:'qanda',config:this.props.config,bootloader:p}));}return [ma,na];},_getMediaAttachmentSelector:function(){var ka=this.props.config.attachmentsConfig[j.MEDIA];if(ka.openFileBrowserImmediately)return (ga.createElement(t,{key:'media',disableFaceRecognition:ka.disableFaceboxTagger,mediaAcceptParam:this.props.config.mediaAcceptParam,photoLimit:ka.photoLimit,prefillConfig:this.props.prefillConfig,targetData:this.props.config.targetData,mediaConfig:ka}));return (ga.createElement(u,{key:'media',label:ia._(["\u0424\u043e\u0442\u043e\/\u0432\u0438\u0434\u0435\u043e","cb1c0b4e2b3ee37a7cbadf83f6a811f5"])}));}});f.exports=ja;},null);
__d('ReactFeedComposerXBootloader',['ReactComposerAttachmentType','ReactComposerInit','ReactFeedComposerX.react','ReactComposerFeedXMinutiaeBootloadStore','Arbiter','AsyncRequest','ComposerEntryPointRef','CSS','DOM','Event','ReactInputSelection','SubscriptionsHandler','XReactComposerLoggingODSController','$','csx','getActiveElement'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x,y={bootload:function(z,aa){var ba=u('pagelet_composer'),ca=p.find(ba,"._559p"),da=o.hasClass(ca,'async_saving');if(da){x=new s();x.addSubscriptions(q.listen(ca,'success',(function(){this._bootloadImpl(z,ba,aa);}).bind(this)),q.listen(ca,'error',(function(){this._bootloadImpl(z,ba,aa);}).bind(this)));}else this._bootloadImpl(z,ba,aa);},_bootloadImpl:function(z,aa,ba){ba.config.audienceXHP=this._getXHPToReactNode(aa,"._ej0");ba.prefillConfig=Object.assign(ba.prefillConfig,this._appendPrefillConfig(aa));i.init(j,ba,aa);var ca=t.getURIBuilder().setString('event','bootload_done').setEnum('composer_type',n.FEEDX).getURI();new m(ca).send();x&&x.release();l.inform('ReactFeedComposerXBootloader/bootload/'+z);},_appendPrefillConfig:function(z){var aa=p.find(z,"._3en1"),ba=w()==aa||o.hasClass(p.find(z,'.focus_target'),'child_was_focused'),ca=p.scry(z,"._21h8")[0];if(!ca)ca=p.find(z,"._5qtn");ca=ca.getAttribute('data-attachment-type');if(ca===h.NOTES)ca=null;var da=p.scry(z,"._21h7")[0];if(!da)da=p.find(z,"._4d6h");var ea=p.scry(da,'input[name="composer_photo[]"]')[0],fa={text:aa.value},ga=this._getXHPToReactNode(z,"._1sek"),ha=k.getMinutiaeData();return {mentionsInput:{textWithEntities:fa,selection:r.getSelection(aa)},instantMediaSelector:{fileInputDOM:ea},selectedAttachment:ca,shouldActivateSelectedAttachment:ba||!!ha,prompt:ga,taggersData:ha};},_getXHPToReactNode:function(z,aa){var ba=p.scry(z,aa);if(ba.length===0)return null;var ca=ba[0],da=ca.cloneNode(true);ca.parentNode.replaceChild(da,ca);return ca;}};f.exports=y;},null);