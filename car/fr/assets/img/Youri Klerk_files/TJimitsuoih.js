/*!CK:1288661342!*//*1454393779,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["AGHpB"]); }

__d('NotificationHiddenState',['NotificationUpdates','NotificationConstants','isEmpty'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={};h.subscribe('update-notifications',function(m,n){var o=n.nodes,p=n.payloadsource;if(p===i.PayloadSourceType.LIVE_SEND&&o&&o.length){var q={};o.forEach(function(r){var s=r.alert_id;if(k[s])q[s]=false;});if(!j(q)){k=Object.assign(k,q);h.didUpdateHiddenState(Object.keys(q));}}});h.subscribe('update-hidden',function(m,n){if(n.hiddenState){k=Object.assign(k,n.hiddenState);h.didUpdateHiddenState(Object.keys(n.hiddenState));}});var l={isHidden:function(m){if(k[m])return k[m];return false;}};f.exports=l;},null);
__d('NotificationPhotoThumbnail',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){if(!j.media||!j.style_list||!j.style_list.length)return null;switch(j.style_list[0]){case 'new_album':case 'album':case 'application':case 'photo':case 'video':case 'video_autoplay':case 'video_inline':return j.media.image;default:return null;}}var i={getThumbnail:function(j,k,l){var m;if(j&&j.length){j.some(function(q){m=h(q);if(m)return true;return false;});if(m)return m;}if(l){var n=l.relevant_comments;if(n&&n.length){var o=n[0].attachments;if(o&&o.length){m=h(o[0]);if(m)return m;}}}if(k){var p=k.attachments;if(p&&p.length)return h(p[0]);}return null;}};f.exports=i;},null);
__d('NotificationURI',['BusinessURI.brands','URI','isFacebookURI','VideoPermalinkURI'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={localize:function(m){m=h(m);if(!j(m))return m.toString();var n=m.getSubdomain();return m.getUnqualifiedURI().getQualifiedURI().setSubdomain(n).toString();},snowliftable:function(m){if(!m)return false;m=new i(m);var n=m.getQueryData();return j(m)&&(k.isValid(m)||'fbid' in n);},isVaultSetURI:function(m){return this._areEquals(m,'/ajax/vault/sharer_preview.php');},isAlbumDraftRecoveryDialogURI:function(m){return this._areEquals(m,'/ajax/photos/upload/overlay/');},_areEquals:function(m,n){if(!m)return false;m=new i(m);return j(m)&&m.getPath()===n;},_startsWith:function(m,n){if(!m)return false;m=new i(m);return j(m)&&m.getPath().startsWith(n);}};f.exports=l;},null);
__d('NotificationList.react',['NotificationConstants','NotificationHiddenState','NotificationSeenState','NotificationStore','NotificationUpdates','NotificationUserActions','React','getObjectValues','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes,r=h.PayloadSourceType.LIVE_SEND,s=n.createClass({displayName:'NotificationList',propTypes:{businessID:q.string,hasEverBeenOpened:q.bool,maxHeight:q.number,negativeTracking:q.object,paused:q.bool,tracking:q.string,useChevron:q.bool,chevronType:q.string,numPerPage:q.number.isRequired,listRenderer:q.func.isRequired,upsell:q.object,endpoint:q.string},getInitialState:function(){this._currentlyFetching=false;this._pendingNotifs={};this._shouldScroll=false;return {canFetchMore:true,notifs:{},hiddenState:{},readState:{},showingChevron:false};},componentWillMount:function(){k.registerEndpoint(this.props.endpoint);k.setBusinessID(this.props.businessID);this._subscriptions=[l.subscribe('notifications-updated',(function(t,u){if(u.source==r&&!p(u.updates)){this._shouldScroll=true;if(this.props.paused!==false)this._pendingNotifs=babelHelpers._extends({},this._pendingNotifs,u.updates);return;}this._fetchAndUpdate(k.getCount(this.props.endpoint));}).bind(this)),l.subscribe(['hidden-state-updated','read-state-updated'],(function(t,u){if(t=='hidden-state-updated'){if(u.source!==r||!this.props.paused){var v={};Object.keys(u.updates).forEach(function(x){v[x]=i.isHidden(x);});this.setState({hiddenState:babelHelpers._extends({},this.state.hiddenState,v)});}}else{var w={};Object.keys(u.updates).forEach(function(x){w[x]=j.isRead(x);});this.setState({readState:babelHelpers._extends({},this.state.readState,w)});}}).bind(this))];},componentWillUnmount:function(){if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;}},_getNotifsWithCurrentOrder:function(t){var u=Object.keys(this.state.notifs),v=Object.keys(t).filter((function(x){return !this.state.notifs[x];}).bind(this));u=u.concat(v);var w={};u.forEach((function(x){if(this._pendingNotifs[x]){if(this.state.notifs[x])w[x]=this.state.notifs[x];}else w[x]=t[x];}).bind(this));return w;},_fetchAndUpdate:function(t){this._currentlyFetching=true;k.getNotifications(t,(function(u){var v=p(this._pendingNotifs)?u:this._getNotifsWithCurrentOrder(u),w={},x={};o(v).forEach(function(y){var z=y.alert_id;if(!this.state||!this.state.readState[z])w[z]=j.isRead(z);if(!this.state||!this.state.hiddenState[z])x[z]=i.isHidden(z);});this._currentlyFetching=false;this.setState({notifs:v,canFetchMore:k.canFetchMore(this.props.endpoint)||k.getCount(this.props.endpoint)!==Object.keys(v).length,readState:babelHelpers._extends({},this.state.readState,w),hiddenState:babelHelpers._extends({},this.state.hiddenState,x)});}).bind(this),this.props.endpoint);},_fetchAndUpdateAll:function(){var t={};Object.keys(this._pendingNotifs).forEach((function(u){var v=i.isHidden(u);if(v!=this.state.hiddenState[u])t[u]=i.isHidden(u);}).bind(this));if(!p(t))this.setState({hiddenState:babelHelpers._extends({},this.state.hiddenState,t)});this._pendingNotifs={};this._fetchAndUpdate(k.getCount(this.props.endpoint));},_fetchNextSet:function(){if(!this._currentlyFetching){var t=Object.keys(this.state.notifs).length;this._fetchAndUpdate(t+this.props.numPerPage);}},_onScrollAndUpdate:function(t){if(this._currentlyFetching||!this.state.canFetchMore)return;if(t)this._fetchNextSet();},_onChevronShow:function(){this.setState({showingChevron:true});},_onChevronHide:function(){this.setState({showingChevron:false});},_updateNotifInContainer:function(t){if(t.length>this.props.numPerPage){this._fetchAndUpdate(t.length);}else this._fetchNextSet();return;},componentDidUpdate:function(t){var u=j.getUnseenIDs();if(!p(this._pendingNotifs))u=u.filter((function(v){return !this._pendingNotifs[v];}).bind(this));if(u.length&&this.props.paused)m.markNotificationsAsSeen(u);if(!t.hasEverBeenOpened&&this.props.hasEverBeenOpened)this._updateNotifInContainer(u);if(t.paused&&!this.props.paused){this._shouldScroll=false;setTimeout(this._fetchAndUpdateAll,0);return;}},render:function(){var t=this.props.listRenderer;return (n.createElement(t,{hasEverBeenOpened:this.props.hasEverBeenOpened,paused:this.props.paused,tracking:this.props.tracking,negativeTracking:this.props.negativeTracking,shortenTimestamp:this.props.shortenTimestamp,businessID:this.props.businessID,maxHeight:this.props.maxHeight,useChevron:this.props.useChevron,chevronType:this.props.chevronType,notifs:this.state.notifs,afterScroll:this._onScrollAndUpdate,onChevronShow:this._onChevronShow,onChevronHide:this._onChevronHide,canFetchMore:this.state.canFetchMore,hiddenState:this.state.hiddenState,readState:this.state.readState,showingChevron:this.state.showingChevron,shouldScroll:this._shouldScroll,upsell:this.props.upsell||null,isRHC:this.props.isRHC}));}});f.exports=s;},null);
__d('FlexibleBlock.react',['LeftRight.react','React','cx','invariant','keyMirror'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=l({left:true,right:true});function n(p){!(p.flex&&p.flex in o.FLEX)?k(0):undefined;!(p.children&&p.children.length===2)?k(0):undefined;}var o=i.createClass({displayName:'FlexibleBlock',render:function(){n(this.props);var p,q=this.props.children[0],r=this.props.children[1],s=this.props.flex==m.left,t;if(s){t=q;p=h.DIRECTION.right;}else{t=r;p=h.DIRECTION.left;}var u=i.createElement('div',{className:"_42ef"},t);return (i.createElement(h,babelHelpers._extends({},this.props,{direction:p}),s?u:this.props.children[0],s?this.props.children[1]:u));}});o.FLEX=m;f.exports=o;},null);
__d('ReadToggle.react',['React','cx','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'ReadToggle',propTypes:{isRead:l.bool.isRequired,onClick:l.func,readLabel:l.node,unreadLabel:l.node},getDefaultProps:function(){return {onClick:j};},render:function(){if(this.props.isRead){return (h.createElement('div',{'aria-label':this.props.readLabel,className:this._getClasses(),'data-hover':'tooltip','data-tooltip-alignh':'center',onClick:this.props.onClick}));}else return (h.createElement('div',{'aria-label':this.props.unreadLabel,className:this._getClasses(),'data-hover':'tooltip','data-tooltip-alignh':'center',onClick:this.props.onClick,role:'button',tabIndex:'0'}));},_getClasses:function(){return k(this.props.className,(!this.props.isRead?"_5c9q":'')+(this.props.isRead?' '+"_5c9_":''));}});f.exports=m;},null);
__d('NotificationListItem.react',['AsyncResponse','BizSiteIdentifier.brands','BanzaiLogger','Banzai','CloseButton.react','Event','FlexibleBlock.react','Image.react','ImageBlock.react','Keys','List.react','NotificationPhotoThumbnail','NotificationTokens','NotificationURI','NotificationUserActions','React','TextWithEntities.react','ReadToggle.react','Timestamp.react','VaultBoxURI','XUIButton.react','PopoverMenu.react','ReactXUIMenu','cx','invariant','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){if(c.__markCompiled)c.__markCompiled();var ha=da.Item;function ia(la,ma){return w.createElement('span',{className:'fwb'},la);}function ja(la){return !!(la&&la.id&&!la.is_facebook_app);}var ka=w.createClass({displayName:'NotificationListItem',getInitialState:function(){return {showingOptions:false,negativeFeedbackConfirmation:null,canReportAsSpam:false,spamReportConfirmation:null,sendingFeedback:false,mayUndoHide:false,notifOptionConfirmation:null,isBizSite:i.isBizSite()};},_onKeyDownItem:function(la){if(m.getKeyCode(la.nativeEvent)==q.RETURN)this._markItemRead();},_markItemReadIfUnreadFromReadButton:function(){if(!this.props.isRead)v.setNextIsFromReadButton(true);this._markItemReadIfUnread();},_markItemReadIfUnread:function(){!this.props.isRead&&this._markItemRead();},_markItemRead:function(){v.markNotificationsAsRead([this.props.alert_id]);},_onFeedbackError:function(la){h.defaultErrorHandler(la);this.setState({sendingFeedback:false});},_onHideSuccess:function(la){var ma=la.getPayload();!ma.confirmation?fa(0):undefined;this.setState({negativeFeedbackConfirmation:ma.confirmation,canReportAsSpam:ma.canReportAsSpam,sendingFeedback:false,showingOptions:true});},_onHideAppSuccess:function(la){var ma=la.getPayload(),na=ma.confirmation,oa=ma.canReportAsSpam;!na?fa(0):undefined;this.setState({negativeFeedbackConfirmation:na,canReportAsSpam:oa,mayUndoHide:true,sendingFeedback:false,showingOptions:true});},_onSpamReportSuccess:function(la){var ma=la.getPayload().spamReportConfirmation;this.setState({negativeFeedbackConfirmation:null,spamReportConfirmation:ma,sendingFeedback:false});},_onHide:function(){v.markNotificationAsHidden(this.props.alert_id,this._onHideSuccess,this._onFeedbackError);this.setState({sendingFeedback:true,mayUndoHide:true});},_onShowSuccess:function(){this.setState({notifOptionConfirmation:null,negativeFeedbackConfirmation:null,sendingFeedback:false,showingOptions:false});},_onShow:function(){var la=this.props.negative?this.props.negative.subscription_level:null;v.markNotificationAsVisible(this.props.alert_id,la,this._onShowSuccess,this._onFeedbackError);this.setState({sendingFeedback:true});},_onReportSpam:function(){v.markNotificationAsSpam(this.props.alert_id,this._onSpamReportSuccess,this._onFeedbackError);this.setState({sendingFeedback:true});},_markAppAsHidden:function(){v.markAppAsHidden(this.props.alert_id,this.props.application.id,this._onHideAppSuccess,this._onFeedbackError);this.setState({sendingFeedback:true});},_markAppAsVisible:function(){v.markAppAsVisible(this.props.alert_id,this.props.application.id,(function(){this.setState({negativeFeedbackConfirmation:null,sendingFeedback:false,showingOptions:false,mayUndoHide:false});}).bind(this),this._onFeedbackError);this.setState({sendingFeedback:true});},_renderAttachedImage:function(la){if(la)return (w.createElement(o,{src:la.uri,className:"_42td",'aria-hidden':true}));return w.createElement('span',null);},_getModifiedTrackingString:function(la){return JSON.stringify(babelHelpers._extends({},JSON.parse(this.props.tracking),la));},_onClickCloseButton:function(){if(this.props.useChevron){this.showCloseOptionOnMenuClose=true;}else this.setState({showingOptions:true});},_onCancelNegativeFeedback:function(){this.setState({showingOptions:false});},_getChevron:function(){if(!this.props.menu_options.length)return null;var la="_1_0c"+(' '+"_55m9")+(this.props.chevronType==='persistent'?' '+"_51v8":''),ma=w.createElement(da,null,this.props.menu_options?this.props.menu_options.map((function(oa){return (w.createElement(ha,{onclick:(function(){this._onClickNotifOption(oa.server_action);}).bind(this),key:oa.client_action+oa.server_action},w.createElement('div',{className:"_18qh"},oa.text)));}).bind(this)):null),na=w.createElement('a',null,w.createElement(ca,{alignh:'right',menu:ma,className:la,onShow:this._onChevronShow,onHide:this._onChevronHide},w.createElement('div',{className:"_1_0d"})));return na;},shouldComponentUpdate:function(la,ma){return (this.props.visible!==la.visible||this.props.isRead!==la.isRead||this.props.timestamp!==la.timestamp||this.props.paused!==la.paused||this.state.showingOptions!==ma.showingOptions||this.state.sendingFeedback!==ma.sendingFeedback||this.state.canReportAsSpam!==ma.canReportAsSpam||this.state.spamReportConfirmation!==ma.spamReportConfirmation);},componentWillReceiveProps:function(la){if(this.props.paused&&!la.paused&&!this.props.visible&&this.state.mayUndoHide)this.setState({mayUndoHide:false});},_onChevronHide:function(){this.props.onChevronHide();this._logChevronEvent('close');if(this.showCloseOptionOnMenuClose){this.showCloseOptionOnMenuClose=false;this._turnOff();}},_turnOff:function(){var la=ja(this.props.application)?this._markAppAsHidden:this._onHide;la();},_onChevronShow:function(){this.props.onChevronShow();this._logChevronEvent('open');var la={notif_type:this.props.notif_type};k.post('notif_chevron_on_click',la);},_logChevronEvent:function(la){var ma={event:la,notif_type:this.props.notif_type,notif_id:parseInt(t.untokenizeIDs([this.props.alert_id])[0],10)};j.log('NotifJewelMenuLoggerConfig',ma);},_onNotifOptionSuccess:function(la){this.setState({showingOptions:true,sendingFeedback:false,notifOptionConfirmation:la});},_onClickNotifOption:function(la){this.setState({sendingFeedback:true,mayUndoHide:true});v.sendNotifOption(this.props.alert_id,this._onNotifOptionSuccess,this._onFeedbackError,la);},_undoNotifOption:function(la){this.setState({sendingFeedback:true});v.undoNotifOption(this.props.alert_id,this._onShowSuccess,this._onFeedbackError,la);},render:function(){if(!this.props.visible&&!this.state.mayUndoHide)return w.createElement('li',{className:"_4_62"});var la=this.props.negative,ma=this.props.negativeTracking,na="_33c"+(!this.props.isRead?' '+"_4af":'')+(this.state.showingOptions?' '+"_4ag":'')+(this.state.sendingFeedback?' '+"_4m8s":'');if(this.state.negativeFeedbackConfirmation){var oa=this.state.negativeFeedbackConfirmation,pa=null,qa=null;if(this.state.canReportAsSpam)if(!this.props.useChevron){pa=w.createElement('span',null,w.createElement('span',{className:'mhs'},'·'),w.createElement('a',{href:'#',onClick:this._onReportSpam},ga._("\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u0435 \u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438, \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u044e\u0449\u0435\u043c \u0441\u043f\u0430\u043c")));}else qa=w.createElement(r,{border:'none',spacing:'small',className:"_1v4c"},w.createElement('li',null,w.createElement('a',{href:'#',onClick:this._onReportSpam,className:'mls'},ga._("\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u0435 \u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438, \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u044e\u0449\u0435\u043c \u0441\u043f\u0430\u043c"))));var ra=ja(this.props.application)?this._markAppAsVisible:this._onShow,sa=!this.props.useChevron?w.createElement('a',{href:'#',onClick:ra,className:'mls'},ga._("\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")):null;return (w.createElement('li',{className:na,'data-gt':this.props.tracking},w.createElement('div',{className:"_4ai"},w.createElement(x,{interpolator:ia,ranges:oa.ranges,aggregatedranges:oa.aggregated_ranges,text:oa.text}),sa,pa),qa));}var ta=this.state.spamReportConfirmation;if(ta)return (w.createElement('li',{className:na,'data-gt':this.props.tracking},w.createElement('div',{className:"_4ai"},w.createElement(x,{interpolator:ia,ranges:ta.ranges,aggregatedranges:ta.aggregated_ranges,text:ta.text}))));if(this.state.notifOptionConfirmation){oa=this.state.notifOptionConfirmation;return (w.createElement('li',{className:na,'data-gt':this.props.tracking},w.createElement('div',{className:"_4ai"},w.createElement(x,{interpolator:ia,ranges:oa.ranges,aggregatedranges:oa.aggregated_ranges,text:oa.text&&oa.text.text?oa.text.text:''}),w.createElement('a',{href:'#',onClick:(function(){this._undoNotifOption(oa.undo_action);}).bind(this),className:'mls'},ga._("\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))),w.createElement(r,{border:'none',spacing:'small',className:"_1v4c"},oa.follow_up_options.map?oa.follow_up_options.map((function(rb){return (w.createElement('li',{key:rb.client_action+rb.server_action},w.createElement('a',{onClick:(function(){this._onClickNotifOption(rb.server_action);}).bind(this),href:'#',className:'mls'},rb.text)));}).bind(this)):null)));}if(this.state.showingOptions&&!this.props.useChevron){var ua=ja(this.props.application)?this._markAppAsHidden:this._onHide;return (w.createElement('li',{className:na,'data-gt':this.props.tracking},w.createElement('div',{className:"_4ai"},w.createElement('div',null,w.createElement(x,{interpolator:ia,ranges:la.confirm_question.ranges,aggregatedranges:la.confirm_question.aggregated_ranges,text:la.confirm_question.text})),w.createElement('div',{className:'mts'},w.createElement(ba,{'data-gt':this._getModifiedTrackingString(ma.confirm),href:{url:'#'},label:la.turn_off,use:'confirm',onClick:ua,disabled:this.state.sendingFeedback}),w.createElement(ba,{'data-gt':this._getModifiedTrackingString(ma.cancel),href:{url:'#'},label:ga._("\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u043c"),onClick:this._onCancelNegativeFeedback,disabled:this.state.sendingFeedback})))));}var va=null;if(this.props.title)va=w.createElement(x,{interpolator:ia,ranges:this.props.title.ranges,aggregatedranges:this.props.title.aggregated_ranges,text:this.props.title.text,renderEmoji:true,renderEmoticons:true});var wa=null,xa=null;if(la){var ya=this._onClickCloseButton,za;za=this._getModifiedTrackingString(ma.click);var ab="_4ah"+(' '+"_55m9");wa=w.createElement(l,{className:ab,'data-gt':za,size:'medium',tooltip:la.button_tooltip,onClick:ya,ref:'closeButton'});}var bb=u.localize(this.props.url),cb=null;if(!this.props.noPhotoPreviews)cb=s.getThumbnail(this.props.attachments,this.props.attached_story,this.props.feedback_context);var db=cb&&u.snowliftable(bb),eb=u.isVaultSetURI(bb),fb=u.isAlbumDraftRecoveryDialogURI(bb),gb=(this.props.useChevron?"_55ma":'')+(' '+"_55m9"),hb=w.createElement(y,{className:gb,isRead:!!this.props.isRead,onClick:this._markItemReadIfUnreadFromReadButton,readLabel:ga._("\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e"),unreadLabel:ga._("\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u043e\u0435")}),ib=null;if(this.props.useChevron){wa=null;ib=this._getChevron();}var jb=db||eb||fb?bb:this.props.ajaxify_url,kb=null,lb=null,mb=eb?aa.getSyncedTabURI().toString():bb;if(db){kb='theater';}else if(fb){kb='async-post';}else if(eb||jb)kb='dialog';var nb=null,ob=this.props.actors[0];if(ob)nb=w.createElement(o,{src:ob.profile_picture.uri,className:(!this.props.isNotifsPage?"_33h":'')+(this.props.isNotifsPage?' '+"_12u1":'')});var pb=false;this.props.attachments.forEach(function(rb){if(pb)return;pb=rb.style_list.indexOf('notification_target')>=0||rb.style_list.indexOf('question')>=0;if(pb)return;});var qb=w.createElement('div',null,hb,wa,ib);return (w.createElement('li',{className:na,'data-gt':this.props.tracking,onMouseLeave:xa},w.createElement('div',{className:'anchorContainer'},w.createElement('a',{href:mb,ajaxify:jb,className:"_33e"+(this.props.useChevron?' '+"_1_0e":''),rel:kb,onClick:lb,onMouseDown:this._markItemRead,onKeyDown:this._onKeyDownItem},w.createElement(p,null,nb,w.createElement(n,{flex:n.FLEX.left},w.createElement('div',{className:"_4l_v"},va,w.createElement(p,{className:"_33f"+(this.state.isBizSite?' '+"_2g48":'')},w.createElement(o,{className:"_10cu",src:this.props.icon.uri}),w.createElement('span',null,w.createElement(z,{shorten:this.props.shortenTimestamp,time:this.props.timestamp.time,text:this.props.timestamp.text,verbose:this.props.timestamp.verbose,className:"_33g"})))),this._renderAttachedImage(cb)))),qb)));}});f.exports=ka;},null);
__d('NotificationListPropTypes',['React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.PropTypes,j={negativeTracking:i.object,tracking:i.string,useChevron:i.bool,chevronType:i.string,notifs:i.object,afterScroll:i.func,onChevronShow:i.func,onChevronHide:i.func,canFetchMore:i.bool,hiddenState:i.object,readState:i.object,showingChevron:i.bool,paused:i.bool,maxHeight:i.number,shouldScroll:i.bool,upsell:i.object};f.exports=j;},null);
__d('NotificationPageList.react',['Event','LoadingIndicator.react','NotificationListItem.react','NotificationListPropTypes','React','ReactDOM','Vector','cx','debounce','fbt','getObjectValues','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=l.createClass({displayName:'NotificationPageList',propTypes:k,_shouldKeepLoading:function(){var u=this.refs.loading;if(!u)return false;var v=n.getElementPosition(m.findDOMNode(u),'viewport').y;return v<n.getViewportDimensions().y;},_keepOnLoading:function(){this.props.afterScroll(this._shouldKeepLoading());},componentDidUpdate:function(){this._keepOnLoading();},componentDidMount:function(){h.listen(window,'scroll',p(this._keepOnLoading));this._keepOnLoading();},_renderItems:function(){return r(this.props.notifs).map((function(u){var v=u.alert_id;return (l.createElement(j,babelHelpers._extends({key:v,visible:!this.props.hiddenState[v],isRead:this.props.readState[v],negativeTracking:this.props.negativeTracking,shortenTimestamp:this.props.shortenTimestamp,useChevron:this.props.useChevron,chevronType:this.props.chevronType,onChevronShow:this.props.onChevronShow,onChevronHide:this.props.onChevronHide,noPhotoPreviews:true,isNotifsPage:true,paused:this.props.paused},u)));}).bind(this));},render:function(){var u=null,v=null;if(!s(this.props.notifs)){u=l.createElement('ul',{'data-gt':this.props.tracking},this._renderItems());}else if(!this.props.canFetchMore)u=l.createElement('div',{className:"_44_s"},q._("\u041d\u0435\u0442 \u043d\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"));if(this.props.canFetchMore)v=l.createElement(i,{color:'white',size:'large',ref:'loading',className:"_44_t"});var w=null;if(this.props.upsell){var x=this.props.upsell.module;w=l.createElement(x,babelHelpers._extends({isPage:true},this.props.upsell.props));}var y="_44_u"+(this.props.showingChevron?' '+"_44_v":'');return (l.createElement('div',{className:y},w,u,v));}});f.exports=t;},null);